const libs={masonry:{url:"https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js",integrity:"sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=",},};function load_script(lib,success){var head=document.getElementsByTagName("head")[0];if(lib.head){var tmpEl=document.createElement("div");tmpEl.innerHTML=lib.head;head.append(tmpEl.firstElementChild);}
if(lib.url){fetch(lib.url,{integrity:lib.integrity,referrerPolicy:"origin",}).then(function(response){return response.text();}).then(function(txt){eval?.(txt);}).then(function(){if(success){success();}});}}
document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".lightbox-preview").forEach(function(el){el.addEventListener("click",function(event){var el=event.currentTarget;var orig_src=el.querySelector("img").dataset.originalSrc;var orig_alt=el.querySelector("img").alt;var orig_ttl=el.querySelector("img").title;var lightbox=document.querySelector(el.dataset.bsTarget);lightbox.querySelector("img").setAttribute("src",orig_src);lightbox.querySelector("img").setAttribute("alt",orig_alt);lightbox.querySelector("img").setAttribute("title",orig_ttl);});});document.querySelectorAll(".modal[data-cr-wall-showonce='true']").forEach(function(el){el.addEventListener("hide.bs.modal",function(){localStorage["cr_wall_"+el.dataset.crWallId]="dismissed";});});document.querySelectorAll(".modal[data-cr-wall-id]").forEach(function(el){if(localStorage["cr_wall_"+el.dataset.crWallId]===undefined){const modal=new bootstrap.Modal(el);modal.show();}});if(typeof cr_track_clicks!=="undefined"&&cr_track_clicks){document.querySelectorAll("a").forEach(function(el){el.addEventListener("click",function(event){var el=event.currentTarget;gtag_data={event_category:"Link",event_label:el.textContent.trim().substring(0,30),};if(el.dataset.gaEventCategory){gtag_data["event_category"]=el.dataset.gaEventCategory;}
if(el.dataset.gaEventLabel){gtag_data["event_label"]=el.dataset.gaEventLabel;}
gtag("event","click",gtag_data);});});}
if(typeof cr_external_new_tab!=="undefined"&&cr_external_new_tab){document.querySelectorAll("a").forEach(function(el){var href=el.href.trim();if(!href.startsWith(cr_site_url)&&!href.startsWith("/")&&!href.startsWith("#")&&!href.startsWith("?")){el.setAttribute("target","_blank");}});}
if(document.querySelectorAll("[data-masonry]").length>0){load_script(libs.masonry);}
let strips=document.querySelectorAll("[data-block='film-strip']");strips.forEach((el)=>{const leftButton=el.querySelector("[data-button='left']");const rightButton=el.querySelector("[data-button='right']");const container=el.querySelector("[data-block='film-container']");leftButton.addEventListener("click",function(){const panels=el.querySelectorAll("[data-block='film-panel']");let currentBlock=parseInt(el.dataset.currentBlock)-1;if(currentBlock<0)currentBlock=panels.length-1;el.dataset.currentBlock=currentBlock;const elem=panels[currentBlock];const left=elem.offsetLeft;container.scroll({top:0,left:left,behavior:"smooth"});});rightButton.addEventListener("click",function(){const panels=el.querySelectorAll("[data-block='film-panel']");let currentBlock=parseInt(el.dataset.currentBlock)+1;if(currentBlock>=panels.length)currentBlock=0;el.dataset.currentBlock=currentBlock;const elem=panels[currentBlock];const left=elem.offsetLeft;container.scroll({top:0,left:left,behavior:"smooth"});});});});