v0.21.0 release notes
=====================


New features
------------

* Upgraded to Wagtail 2.13

* Added new ``<head>`` and ``<body>`` tracking script settings. See
  :doc:`/how_to/add_tracking_scripts`.

* Added new ``coderedcms.fields.MonospaceField`` for rendering text area fields
  in the Wagtail admin with monospace input and spell-checking disabled. This is
  used by the new tracking settings and is useful for implementing code-oriented
  fields.

* Improve developer tooling in new CodeRed CMS sites by providing pre-configured
  ``.gitattribute`` and ``.editorconfig`` files.


Upgrade considerations
----------------------

* ``coderedcms.blocks.MultiSelectBlock`` has been removed and is now replaced
  with ``wagtail.core.blocks.MultipleChoiceBlock``.

* CodeRed CMS now sets ``default_auto_field = 'django.db.models.AutoField'`` for
  its own concrete models. If you had previously manually specified a different
  ``DEFAULT_AUTO_FIELD`` Django setting, you may need to create a migration.

* You may need to find/replace
  ``coderedcms.blocks.base_blocks.MultiSelectBlock`` with
  ``wagtail.core.blocks.MultipleChoiceBlock`` in any old migrations so that they
  may continue working.

* Follow `Wagtail 2.12 upgrade considerations <https://docs.wagtail.io/en/stable/releases/2.12.html#upgrade-considerations>`_
  and `Wagtail 2.13 upgrade considerations <https://docs.wagtail.io/en/stable/releases/2.13.html#upgrade-considerations>`_.

* You may need to run ``python manage.py makemigrations website`` and
  ``python manage.py migrate`` after upgrading.


Supported software
------------------

* Python 3.6, 3.7, 3.8, 3.9

* Django 2.2, 3.0, 3.1, 3.2


Thank you!
----------

Thanks to everyone who contributed to `0.21.0 on GitHub <https://github.com/coderedcorp/coderedcms/milestone/31?closed=1>`_.
